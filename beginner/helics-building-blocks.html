<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Building Blocks of HELICS | HELICS Tutorial</title>
    <meta name="description" content="HELICS Tutorial">
    <meta name="generator" content="VuePress 1.3.1">
    
    
    <link rel="preload" href="/HELICS-Tutorial-2020-03-13/assets/css/0.styles.ba8aa102.css" as="style"><link rel="preload" href="/HELICS-Tutorial-2020-03-13/assets/js/app.33e126a5.js" as="script"><link rel="preload" href="/HELICS-Tutorial-2020-03-13/assets/js/2.e4476a02.js" as="script"><link rel="preload" href="/HELICS-Tutorial-2020-03-13/assets/js/20.0dd46757.js" as="script"><link rel="prefetch" href="/HELICS-Tutorial-2020-03-13/assets/js/10.a94ea896.js"><link rel="prefetch" href="/HELICS-Tutorial-2020-03-13/assets/js/11.80aa02bb.js"><link rel="prefetch" href="/HELICS-Tutorial-2020-03-13/assets/js/12.7eb8b790.js"><link rel="prefetch" href="/HELICS-Tutorial-2020-03-13/assets/js/13.ad025528.js"><link rel="prefetch" href="/HELICS-Tutorial-2020-03-13/assets/js/14.1cd8ae90.js"><link rel="prefetch" href="/HELICS-Tutorial-2020-03-13/assets/js/15.4ee7bc04.js"><link rel="prefetch" href="/HELICS-Tutorial-2020-03-13/assets/js/16.7c0e2478.js"><link rel="prefetch" href="/HELICS-Tutorial-2020-03-13/assets/js/17.cc6fc7b6.js"><link rel="prefetch" href="/HELICS-Tutorial-2020-03-13/assets/js/18.0cc728f0.js"><link rel="prefetch" href="/HELICS-Tutorial-2020-03-13/assets/js/19.0172d39f.js"><link rel="prefetch" href="/HELICS-Tutorial-2020-03-13/assets/js/21.d0c7c791.js"><link rel="prefetch" href="/HELICS-Tutorial-2020-03-13/assets/js/22.8ebf6701.js"><link rel="prefetch" href="/HELICS-Tutorial-2020-03-13/assets/js/23.a5d8d89d.js"><link rel="prefetch" href="/HELICS-Tutorial-2020-03-13/assets/js/24.59d3b9e9.js"><link rel="prefetch" href="/HELICS-Tutorial-2020-03-13/assets/js/3.f7b728dd.js"><link rel="prefetch" href="/HELICS-Tutorial-2020-03-13/assets/js/4.13232a69.js"><link rel="prefetch" href="/HELICS-Tutorial-2020-03-13/assets/js/5.77ce9090.js"><link rel="prefetch" href="/HELICS-Tutorial-2020-03-13/assets/js/6.6fbf6e3d.js"><link rel="prefetch" href="/HELICS-Tutorial-2020-03-13/assets/js/7.13889ff0.js"><link rel="prefetch" href="/HELICS-Tutorial-2020-03-13/assets/js/8.1767752a.js"><link rel="prefetch" href="/HELICS-Tutorial-2020-03-13/assets/js/9.05aeb5a5.js">
    <link rel="stylesheet" href="/HELICS-Tutorial-2020-03-13/assets/css/0.styles.ba8aa102.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/HELICS-Tutorial-2020-03-13/" class="home-link router-link-active"><!----> <span class="site-name">HELICS Tutorial</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/HELICS-Tutorial-2020-03-13/beginner/" class="nav-link router-link-active">
  Beginner
</a></div><div class="nav-item"><a href="/HELICS-Tutorial-2020-03-13/advanced/" class="nav-link">
  Advanced
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/HELICS-Tutorial-2020-03-13/beginner/" class="nav-link router-link-active">
  Beginner
</a></div><div class="nav-item"><a href="/HELICS-Tutorial-2020-03-13/advanced/" class="nav-link">
  Advanced
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/HELICS-Tutorial-2020-03-13/" class="sidebar-link">HELICS Tutorial</a></li><li><section class="sidebar-group depth-0"><a href="/HELICS-Tutorial-2020-03-13/beginner/" class="sidebar-heading clickable router-link-active open"><span>Beginner</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/HELICS-Tutorial-2020-03-13/beginner/" class="sidebar-link">Introduction</a></li><li><a href="/HELICS-Tutorial-2020-03-13/beginner/installation/" class="sidebar-link">Installation</a></li><li><a href="/HELICS-Tutorial-2020-03-13/beginner/a-cosimulation-example.html" class="sidebar-link">A Cosimulation Example</a></li><li><a href="/HELICS-Tutorial-2020-03-13/beginner/inside-a-helics-install.html" class="sidebar-link">Inside a HELICS installation</a></li><li><a href="/HELICS-Tutorial-2020-03-13/beginner/helics-building-blocks.html" class="active sidebar-link">Building Blocks of HELICS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/HELICS-Tutorial-2020-03-13/beginner/helics-building-blocks.html#helics-library-functions" class="sidebar-link">HELICS library functions</a></li><li class="sidebar-sub-header"><a href="/HELICS-Tutorial-2020-03-13/beginner/helics-building-blocks.html#broker" class="sidebar-link">Broker</a></li><li class="sidebar-sub-header"><a href="/HELICS-Tutorial-2020-03-13/beginner/helics-building-blocks.html#core" class="sidebar-link">Core</a></li><li class="sidebar-sub-header"><a href="/HELICS-Tutorial-2020-03-13/beginner/helics-building-blocks.html#federate" class="sidebar-link">Federate</a></li><li class="sidebar-sub-header"><a href="/HELICS-Tutorial-2020-03-13/beginner/helics-building-blocks.html#data" class="sidebar-link">Data</a></li></ul></li><li><a href="/HELICS-Tutorial-2020-03-13/beginner/revisiting-a-co-simulation-example.html" class="sidebar-link">Revisiting the Cosimulation Example</a></li><li><a href="/HELICS-Tutorial-2020-03-13/beginner/a-note-on-timing.html" class="sidebar-link">A Note on Timing</a></li><li><a href="/HELICS-Tutorial-2020-03-13/beginner/debugging-helics-cosimulation-tips.html" class="sidebar-link">Tips for debugging</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/HELICS-Tutorial-2020-03-13/advanced/" class="sidebar-heading clickable"><span>Advanced</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/HELICS-Tutorial-2020-03-13/advanced/" class="sidebar-link">Introduction</a></li><li><a href="/HELICS-Tutorial-2020-03-13/advanced/values-vs-messages/" class="sidebar-link">Values vs Messages</a></li><li><a href="/HELICS-Tutorial-2020-03-13/advanced/filters/" class="sidebar-link">Filters</a></li><li><a href="/HELICS-Tutorial-2020-03-13/advanced/async/" class="sidebar-link">Async request time</a></li><li><a href="/HELICS-Tutorial-2020-03-13/advanced/callbacks/" class="sidebar-link">Callbacks</a></li><li><a href="/HELICS-Tutorial-2020-03-13/advanced/helics-cli/" class="sidebar-link">helics-cli</a></li><li><a href="/HELICS-Tutorial-2020-03-13/advanced/multi-node/" class="sidebar-link">Multi-node HELICS Co-simulation</a></li><li><a href="/HELICS-Tutorial-2020-03-13/advanced/co-iteration/" class="sidebar-link">Co-iteration</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="building-blocks-of-helics"><a href="#building-blocks-of-helics" class="header-anchor">#</a> Building Blocks of HELICS</h1> <h2 id="helics-library-functions"><a href="#helics-library-functions" class="header-anchor">#</a> HELICS library functions</h2> <p>Let's look at what is in the HELICS library.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>$ ipython
Python <span class="token number">3.7</span><span class="token number">.6</span> <span class="token punctuation">(</span>default<span class="token punctuation">,</span> Jan  <span class="token number">8</span> <span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">42</span><span class="token punctuation">:</span><span class="token number">34</span><span class="token punctuation">)</span>
Type <span class="token string">'copyright'</span><span class="token punctuation">,</span> <span class="token string">'credits'</span> <span class="token keyword">or</span> <span class="token string">'license'</span> <span class="token keyword">for</span> more information
IPython <span class="token number">7.12</span><span class="token number">.0</span> <span class="token operator">-</span><span class="token operator">-</span> An enhanced Interactive Python<span class="token punctuation">.</span> Type <span class="token string">'?'</span> <span class="token keyword">for</span> <span class="token builtin">help</span><span class="token punctuation">.</span>

In <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token keyword">import</span> helics <span class="token keyword">as</span> h

In <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token keyword">import</span> types

In <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token punctuation">[</span>o <span class="token keyword">for</span> o <span class="token keyword">in</span> <span class="token builtin">dir</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span> <span class="token keyword">if</span> o<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">&quot;helics&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
Out<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token number">394</span>

In <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span> functions <span class="token operator">=</span> <span class="token punctuation">[</span>f <span class="token keyword">for</span> f <span class="token keyword">in</span> <span class="token builtin">dir</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token builtin">getattr</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span> f<span class="token punctuation">)</span><span class="token punctuation">,</span> types<span class="token punctuation">.</span>FunctionType<span class="token punctuation">)</span><span class="token punctuation">]</span>

In <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">len</span><span class="token punctuation">(</span>functions<span class="token punctuation">)</span>
Out<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token number">272</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>That's a lot of functions.
Let's see if we can categorize them somehow to understand what all these functions are.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>In <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token keyword">from</span> re <span class="token keyword">import</span> finditer
   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span> <span class="token keyword">def</span> <span class="token function">camel_case_split</span><span class="token punctuation">(</span>identifier<span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span>     matches <span class="token operator">=</span> finditer<span class="token punctuation">(</span><span class="token string">'.+?(?:(?&lt;=[a-z])(?=[A-Z])|(?&lt;=[A-Z])(?=[A-Z][a-z])|$)'</span><span class="token punctuation">,</span> identifier<span class="token punctuation">)</span>
   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span>     <span class="token keyword">return</span> <span class="token punctuation">[</span>m<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">for</span> m <span class="token keyword">in</span> matches<span class="token punctuation">]</span>
   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span>

In <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>camel_case_split<span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">for</span> f <span class="token keyword">in</span> functions<span class="token punctuation">)</span>
Out<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
<span class="token punctuation">{</span><span class="token string">'helicsBroker'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCleanup'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsClose'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCore'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCreate'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsEndpoint'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsFederate'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsFilter'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsGet'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsInput'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsIs'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsMessage'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsPublication'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsQuery'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsSubscription'</span><span class="token punctuation">}</span>

In <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">len</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span>
Out<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token number">15</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>Even though there's a large number of functions, there seems to be just 15 fundamental &quot;kinds&quot; of functions.</p> <p>For example, there's a single function called <code>helicsCleanupLibrary</code> and another function called <code>helicsCloseLibrary</code></p> <p>Let's see what all the <code>helicsCreate...</code> functions are:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>In <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>f <span class="token keyword">for</span> f <span class="token keyword">in</span> functions <span class="token keyword">if</span> f<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">&quot;helicsCreate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
Out<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
<span class="token punctuation">[</span><span class="token string">'helicsCreateBroker'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCreateBrokerFromArgs'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCreateCombinationFederate'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCreateCombinationFederateFromConfig'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCreateCore'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCreateCoreFromArgs'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCreateFederateInfo'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCreateMessageFederate'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCreateMessageFederateFromConfig'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCreateQuery'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCreateValueFederate'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCreateValueFederateFromConfig'</span><span class="token punctuation">]</span>

In <span class="token punctuation">[</span><span class="token number">24</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token punctuation">[</span>f <span class="token keyword">for</span> f <span class="token keyword">in</span> functions <span class="token keyword">if</span> <span class="token builtin">any</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span>     f<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">&quot;helicsFederate&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span>     f<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">&quot;helicsFederateInfo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span>     f<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">&quot;helicsBroker&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span>     f<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">&quot;helicsEndpoint&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span>     f<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">&quot;helicsFilter&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span>     f<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">&quot;helicsInput&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span>     f<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">&quot;helicsMessage&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span>     f<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">&quot;helicsPublication&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span>     f<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">&quot;helicsQuery&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span>    <span class="token punctuation">]</span><span class="token punctuation">)</span>
Out<span class="token punctuation">[</span><span class="token number">24</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token number">233</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>85% of all HELICS functions fall under one of these &quot;kinds&quot; of functions:</p> <ol><li><code>Broker</code></li> <li><code>Core</code></li> <li><code>Endpoint</code></li> <li><code>Federate</code></li> <li><code>FederateInfo</code></li> <li><code>Filter</code></li> <li><code>Input</code></li> <li><code>Message</code></li> <li><code>Publication</code></li> <li><code>Query</code></li></ol> <p>Let's look at some of these in more detail.</p> <p><img src="https://helics.readthedocs.io/en/latest/_images/helics_architecture_1.png" alt="HELICS Architecture"></p> <h2 id="broker"><a href="#broker" class="header-anchor">#</a> <code>Broker</code></h2> <p>The <code>Broker</code> is like the heart of a co-simulation.
It is responsible for performing the two key tasks of a co-simulation: maintaining synchronization in the federation and facilitating message exchange.
It keeps track of every <code>Federate</code>, what simulation times they are requesting, what data is being published or subscribed from them, etc.</p> <p>Brokers receive and distribute messages from any federates that are connected to it, routing them to the appropriate location.
HELICS also supports a hierarchy of brokers, allowing brokers to pass messages between each other to connect federates associated with different brokers and thus maintain the integrity of the federation.
The broker at the top of the hierarchy is called the “root broker” and it is the message router of last resort.</p> <p>At the minimum, you need two things to create a <code>Broker</code>. A <code>core_type</code> and a <code>configureString</code>.</p> <p>The following are examples of valid <code>core_type</code>s.</p> <ul><li><code>inproc</code></li> <li><code>tcp</code></li> <li><code>udp</code></li> <li><code>zmq</code></li></ul> <p><code>core_type</code>s are essentially abstractions on top of protocols for communicating data over a wire or over memory.
They are usually implementation details that the average user does not need to worry about.</p> <p>See <a href="https://helics.readthedocs.io/en/latest/configuration/CoreTypes.html" target="_blank" rel="noopener noreferrer">CoreTypes<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for more information.</p> <p>We will be using the <code>zmq</code> <code>core_type</code> for this tutorial.</p> <p>The <code>configureString</code> allows passing in various options that you might pass to the command line version of the <code>helics_broker</code>.
The most important argument is <code>-f $N</code> where <code>$N</code> is the minimum number of federates that will be connecting to this broker.</p> <p>So the following string:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>configureString <span class="token operator">=</span> <span class="token string">&quot;-f 2&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>implies that you expect 2 federates at minimum to connect to this broker.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>In <span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>f <span class="token keyword">for</span> f <span class="token keyword">in</span> functions <span class="token keyword">if</span> f<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">&quot;helicsBroker&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
Out<span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
<span class="token punctuation">[</span><span class="token string">'helicsBrokerAddDestinationFilterToEndpoint'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsBrokerAddSourceFilterToEndpoint'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsBrokerClone'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsBrokerDataLink'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsBrokerDestroy'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsBrokerDisconnect'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsBrokerFree'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsBrokerGetAddress'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsBrokerGetIdentifier'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsBrokerIsConnected'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsBrokerIsValid'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsBrokerMakeConnections'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsBrokerSetGlobal'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsBrokerSetLogFile'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsBrokerWaitForDisconnect'</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="core"><a href="#core" class="header-anchor">#</a> <code>Core</code></h2> <p>As mentioned earlier, the core is the software that has been embedded inside a simulator to allow it to join a HELICS federation.
Generally, each federate has a single core but there are special cases where a single executable is used to represent multiple federates and all of those federates use a single core.
Cores are built around specific message buses with HELICS supporting a number of different bus types.
Selection of the message bus is part of the configuration process required to form the federation.
See Core Types for details on the available Types of cores.</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>In <span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>f <span class="token keyword">for</span> f <span class="token keyword">in</span> functions <span class="token keyword">if</span> f<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">&quot;helicsCore&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
Out<span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
<span class="token punctuation">[</span><span class="token string">'helicsCoreAddDestinationFilterToEndpoint'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCoreAddSourceFilterToEndpoint'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCoreClone'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCoreConnect'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCoreDataLink'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCoreDestroy'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCoreDisconnect'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCoreFree'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCoreGetAddress'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCoreGetIdentifier'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCoreIsConnected'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCoreIsValid'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCoreMakeConnections'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCoreRegisterCloningFilter'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCoreRegisterFilter'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCoreSetGlobal'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCoreSetLogFile'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCoreSetReadyToInit'</span><span class="token punctuation">,</span>
 <span class="token string">'helicsCoreWaitForDisconnect'</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="federate"><a href="#federate" class="header-anchor">#</a> <code>Federate</code></h2> <p><code>Federate</code>s are the running instances of simulators that have been assigned specific models and/or have specific values they are providing to and receiving from other federates.</p> <p>To first create a <code>Federate</code>, you need two things. The name of the <code>Federate</code> and an instance of a <code>FederateInfo</code> object.
The name of a <code>Federate</code> must be unique across a co-simulation.
The <code>FederateInfo</code> object contains information about the <code>Core</code>, the various timing related properties and various behaviour related properties of a <code>Federate</code>.</p> <p>There are a two &quot;kinds&quot; of <code>Federate</code>:</p> <ul><li><code>ValueFederate</code></li> <li><code>MessageFederate</code></li></ul> <p>There's a third <code>Federate</code> called the <code>CombinationFederate</code> which has features of both the <code>ValueFederate</code> and <code>MessageFederate</code>.
We will go into what these are in a later section.</p> <div class="language-julia line-numbers-mode"><pre class="language-julia"><code>name <span class="token operator">=</span> <span class="token string">&quot;FederateA&quot;</span>

federate_info <span class="token operator">=</span> h<span class="token punctuation">.</span>helicsCreateFederateInfo<span class="token punctuation">(</span><span class="token punctuation">)</span>
h<span class="token punctuation">.</span>helicsFederateInfoSetCoreTypeFromString<span class="token punctuation">(</span>federate_info<span class="token punctuation">,</span> <span class="token string">&quot;zmq&quot;</span><span class="token punctuation">)</span>
h<span class="token punctuation">.</span>helicsFederateInfoSetCoreInitString<span class="token punctuation">(</span>federate_info<span class="token punctuation">,</span> <span class="token string">&quot;--federates=1&quot;</span><span class="token punctuation">)</span>
h<span class="token punctuation">.</span>helicsFederateInfoSetTimeProperty<span class="token punctuation">(</span>federate_info<span class="token punctuation">,</span> h<span class="token punctuation">.</span>HELICS_PROPERTY_TIME_DELTA<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>

fed <span class="token operator">=</span> h<span class="token punctuation">.</span>helicsCreateCombinationFederate<span class="token punctuation">(</span>name<span class="token punctuation">,</span> federate_info<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>The <code>helicsFederateInfoSetCoreInitString</code> function is useful for configuring the <code>Federate</code> <code>Core</code>.</p> <p>There's a few kinds of <code>helicsFederate...</code> functions as well.</p> <h3 id="helicsfederateenterinitializingmode-and-helicsfederateenterexecutingmode"><a href="#helicsfederateenterinitializingmode-and-helicsfederateenterexecutingmode" class="header-anchor">#</a> <code>helicsFederateEnterInitializingMode</code> and <code>helicsFederateEnterExecutingMode</code></h3> <p>This will create the federates as entities recognized by the broker, set-up the communication channels for their messages to be passed, pass some initial messages and execute some preliminary code as preparation for the beginning of the co-simulation proper.
The later is particularly important if the various federates need to reach a self-consistent state as an initial condition of the system.</p> <h3 id="helicsfederatefinalize-and-helicsfederatefree"><a href="#helicsfederatefinalize-and-helicsfederatefree" class="header-anchor">#</a> <code>helicsFederateFinalize</code> and <code>helicsFederateFree</code></h3> <p>At this point, if all has gone well, the federates gracefully signal their core that they are leaving the federation.
Eventually, once all the federates have left, the rest of the infrastructure disassembles itself and also terminates.</p> <h3 id="helicsfederateregister"><a href="#helicsfederateregister" class="header-anchor">#</a> <code>helicsFederateRegister...</code></h3> <ul><li><code>helicsFederateRegisterCloningFilter</code></li> <li><code>helicsFederateRegisterEndpoint</code></li> <li><code>helicsFederateRegisterFilter</code></li> <li><code>helicsFederateRegisterFromPublicationJSON</code></li> <li><code>helicsFederateRegisterGlobalCloningFilter</code></li> <li><code>helicsFederateRegisterGlobalEndpoint</code></li> <li><code>helicsFederateRegisterGlobalFilter</code></li> <li><code>helicsFederateRegisterGlobalInput</code></li> <li><code>helicsFederateRegisterGlobalPublication</code></li> <li><code>helicsFederateRegisterGlobalTypeInput</code></li> <li><code>helicsFederateRegisterGlobalTypePublication</code></li> <li><code>helicsFederateRegisterInput</code></li> <li><code>helicsFederateRegisterInterfaces</code></li> <li><code>helicsFederateRegisterPublication</code></li> <li><code>helicsFederateRegisterTypeInput</code></li> <li><code>helicsFederateRegisterTypePublication</code></li></ul> <h3 id="helicsfederaterequest"><a href="#helicsfederaterequest" class="header-anchor">#</a> <code>helicsFederateRequest...</code></h3> <ul><li><code>helicsFederateRequestNextStep</code></li> <li><code>helicsFederateRequestTime</code></li></ul> <p><img src="https://helics.readthedocs.io/en/latest/_images/helics_architecture_3.png" alt="Multi Node HELICS Architecture"></p> <h2 id="data"><a href="#data" class="header-anchor">#</a> Data</h2> <p>Messages are the the information passed between federates during the execution of the co-simulation. Fundamentally, co-simulation is about message-passing.
In HELICS, there are various techniques and implementations of the message-passing infrastructure that have been implemented in the core.
There are also a variety of mechanisms within a co-simulation to define the nature of the data being exchanged (data type, for example) and how the data is distributed around the federation.</p> <p>There are additional attributes in the <code>helics</code> package that have underscore in their names.
They are enumerations of various options.</p> <p>You can find more information on this documentation page:</p> <p>https://gmlc-tdc.github.io/HELICS.jl/latest/api/</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/HELICS-Tutorial-2020-03-13/beginner/inside-a-helics-install.html" class="prev">
        Inside a HELICS installation
      </a></span> <span class="next"><a href="/HELICS-Tutorial-2020-03-13/beginner/revisiting-a-co-simulation-example.html">
        Revisiting the Cosimulation Example
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/HELICS-Tutorial-2020-03-13/assets/js/app.33e126a5.js" defer></script><script src="/HELICS-Tutorial-2020-03-13/assets/js/2.e4476a02.js" defer></script><script src="/HELICS-Tutorial-2020-03-13/assets/js/20.0dd46757.js" defer></script>
  </body>
</html>
